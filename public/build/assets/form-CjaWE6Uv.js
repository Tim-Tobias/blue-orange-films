import{K as N,r as a,j as e,L as y,S as h}from"./app-j1ScH27T.js";import{z as u,A as F}from"./index-D-M4y9lL.js";import{B as w}from"./button-CQ8yYxP_.js";import{C as D,a as I}from"./card-DZzINTpL.js";import{I as x}from"./input-CIUOX2Xn.js";import{A as L}from"./app-layout-CzSwFohl.js";import{s as A}from"./zod-BFakTopq.js";import{u as U}from"./index.esm-C4VZY3i8.js";import{S as P}from"./SyncLoader-B4CVMafc.js";/* empty css            */import"./index-g7ZPHCxC.js";import"./index-D7pQGCi_.js";import"./index-B0Ms5Iit.js";import"./index-BuVcSHmA.js";import"./index-lKSAcGRB.js";import"./createLucideIcon-DOmanp4f.js";import"./index-CaL2sQDG.js";import"./x-CO3OYAMq.js";import"./app-logo-icon-BEmNBPCW.js";const B=[{title:"Dashboard",href:"/dashboard"},{title:"Client",href:"/dashboard/clients"}],R=u.object({name:u.string().optional()});function se({isEdit:o=!1,data:s}){var d;const{errors:t}=N().props,[n,i]=a.useState(!1),[l,j]=a.useState(),[c,b]=a.useState((s==null?void 0:s.image_url)||null),{register:g,setValue:z,handleSubmit:S,formState:{errors:p}}=U({resolver:A(R),defaultValues:{name:(s==null?void 0:s.name)||""}}),C=m=>{var f;const r=(f=m.target.files)==null?void 0:f[0];r&&(j(r),b(URL.createObjectURL(r)))},v=m=>{i(!0);const r=new FormData;r.append("name",m.name||""),l instanceof File&&r.append("image",l),o&&(s!=null&&s.id)?(r.append("_method","PUT"),h.post(`/dashboard/clients/${s.id}`,r,{forceFormData:!0,onFinish:()=>{i(!1)}})):h.post("/dashboard/clients",r,{forceFormData:!0,onFinish:()=>{i(!1)}})};return e.jsxs(L,{breadcrumbs:B,children:[e.jsx(y,{title:`Admin Dashboard - ${o?"Edit":"Create"} Client`}),e.jsxs(F,{children:[e.jsxs("h1",{className:"text-2xl font-semibold",children:[o?"Edit":"Create"," Client"]}),e.jsx(D,{children:e.jsx(I,{children:e.jsxs("form",{onSubmit:S(v),encType:"multipart/form-data",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Name"}),e.jsx(x,{type:"text",...g("name"),className:"form-control mt-2"}),(p.name||t)&&e.jsx("p",{className:"text-red-500",children:((d=p.name)==null?void 0:d.message)??t.name})]}),c&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h6",{children:"Preview:"}),e.jsx("img",{src:c,alt:"Preview",className:"h-32 w-32 object-cover"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Image"}),e.jsx(x,{type:"file",onChange:C,className:"form-control mt-2",accept:"image/*"}),t&&e.jsx("p",{className:"text-red-500",children:t.image})]}),e.jsx(w,{disabled:n,type:"submit",children:n?e.jsx(P,{size:10,color:"#59b4c7"}):"submit"})]})})})]})]})}export{R as clientScheme,se as default};
