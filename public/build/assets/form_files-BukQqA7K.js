import{j as e,c as F,K as w}from"./app-CQZ61BoK.js";import{B as I}from"./button-DVn2xeT-.js";import{C as R,b as V,a as E}from"./card-DIbaGwzd.js";import{I as d}from"./input-pnqkoKf5.js";import{R as T,a as $}from"./radio-group-k2964nCx.js";import{a as A}from"./index.esm-BK5FmO0I.js";import{X as B}from"./x-Cm2QhUop.js";/* empty css            */import"./index-DbyAg2DU.js";import"./createLucideIcon-Dt3Zlyou.js";function G({className:o,...r}){return e.jsx("textarea",{"data-slot":"textarea",className:F("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",o),...r})}function J({form:o}){const{errors:r}=w().props,{control:N,setValue:c,register:m,watch:n,formState:{errors:i}}=o,{fields:k,append:y,remove:C}=A({control:N,name:"files"}),_=(t,s)=>{const a=[...n("files")];a[t].category=s,a[t].project_link="",c("files",a)};return e.jsxs(R,{children:[e.jsx(V,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h6",{className:"text-xl font-semibold",children:"Project Files"}),e.jsx(I,{type:"button",onClick:()=>y({title:"",category:"image",project_link:"",description:""}),children:"Add File"})]})}),e.jsx(E,{children:e.jsx("div",{className:"grid grid-cols-1 gap-5",children:k.map((t,s)=>{var a,p,f,x,j,u,h,g,v;return e.jsxs("div",{className:"flex flex-col gap-3 border-b pb-4",children:[e.jsxs("div",{children:[e.jsx(d,{placeholder:"Title",...m(`files.${s}.title`)}),((p=(a=i.files)==null?void 0:a[s])==null?void 0:p.title)&&e.jsx("p",{className:"text-sm text-red-500",children:(f=i.files[s].title)==null?void 0:f.message}),r[`files.${s}.title`]&&e.jsx("p",{className:"text-sm text-red-500",children:r[`files.${s}.title`]})]}),e.jsxs(T,{defaultValue:t.category,onValueChange:l=>_(s,l),className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{value:"image",id:`image-${t.id}`}),e.jsx("label",{htmlFor:`image-${t.id}`,children:"Image"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{value:"video",id:`video-${t.id}`}),e.jsx("label",{htmlFor:`video-${t.id}`,children:"Video"})]})]}),n(`files.${s}.category`)==="image"?e.jsx(d,{type:"file",accept:"image/*",onChange:l=>{var b;return c(`files.${s}.project_link`,((b=l.target.files)==null?void 0:b[0])??"")}}):e.jsx(d,{type:"text",placeholder:"YouTube Link",value:n(`files.${s}.project_link`)??"",onChange:l=>c(`files.${s}.project_link`,l.target.value)}),((j=(x=i.files)==null?void 0:x[s])==null?void 0:j.project_link)&&e.jsx("p",{className:"text-sm text-red-500",children:(u=i.files[s].project_link)==null?void 0:u.message}),r[`files.${s}.project_link`]&&e.jsx("p",{className:"text-sm text-red-500",children:r[`files.${s}.project_link`]}),e.jsx(G,{placeholder:"Description",...m(`files.${s}.description`)}),((g=(h=i.files)==null?void 0:h[s])==null?void 0:g.description)&&e.jsx("p",{className:"text-sm text-red-500",children:(v=i.files[s].description)==null?void 0:v.message}),r[`files.${s}.description`]&&e.jsx("p",{className:"text-sm text-red-500",children:r[`files.${s}.description`]}),e.jsx(B,{onClick:()=>C(s),className:"cursor-pointer self-end text-red-600"})]},t.id)})})})]})}export{J as default};
