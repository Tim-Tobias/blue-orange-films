import{K as _,r as m,j as e,L as y,S as j}from"./app-CQZ61BoK.js";import{z as n,A}from"./index-BKgjLX_2.js";import{B as F}from"./button-DVn2xeT-.js";import{C as w,a as D}from"./card-DIbaGwzd.js";import{I as b}from"./input-pnqkoKf5.js";import{A as I}from"./app-layout-Brq4PTvv.js";import{s as L}from"./zod-DeTqYMNs.js";import{u as T}from"./index.esm-BK5FmO0I.js";import{S as U}from"./SyncLoader-DdYVSnic.js";/* empty css            */import"./index-C9Wy1Z_c.js";import"./createLucideIcon-Dt3Zlyou.js";import"./index-B9z1W7SR.js";import"./index-DbyAg2DU.js";import"./x-Cm2QhUop.js";import"./Blueorange-Square-BHcpwURD.js";const P=[{title:"Dashboard",href:"/dashboard"},{title:"Contact Carousell",href:"/dashboard/contact-carousell"}],R=n.object({title:n.string().min(1,"Title is required!"),is_active:n.enum(["true","false"])});function B({isEdit:a=!1,data:s}){var x,d;const{errors:t}=_().props,[p,o]=m.useState(!1),[u,v]=m.useState(),[f,g]=m.useState((s==null?void 0:s.image_url)||null),{register:c,setValue:k,handleSubmit:C,formState:{errors:r}}=T({resolver:L(R),defaultValues:{title:(s==null?void 0:s.title)||"",is_active:s!=null&&s.is_active?"true":"false"}}),S=l=>{var h;const i=(h=l.target.files)==null?void 0:h[0];i&&(v(i),g(URL.createObjectURL(i)))},N=l=>{o(!0);const i=new FormData;i.append("title",l.title||""),i.append("is_active",l.is_active==="true"?"1":"0"),u instanceof File&&i.append("image",u),a&&(s!=null&&s.id)?(i.append("_method","PUT"),j.post(`/dashboard/contact-carousell/${s.id}`,i,{forceFormData:!0,onFinish:()=>{o(!1)}})):j.post("/dashboard/contact-carousell",i,{forceFormData:!0,onFinish:()=>{o(!1)}})};return e.jsxs(I,{breadcrumbs:P,children:[e.jsx(y,{title:`Admin Dashboard - ${a?"Edit":"Create"} Contact Carousell`}),e.jsxs(A,{children:[e.jsxs("h1",{className:"text-2xl font-semibold",children:[a?"Edit":"Create"," Contact Carousell"]}),e.jsx(w,{children:e.jsx(D,{children:e.jsxs("form",{onSubmit:C(N),encType:"multipart/form-data",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Title"}),e.jsx(b,{type:"text",...c("title"),className:"form-control mt-2"}),(r.title||t)&&e.jsx("p",{className:"text-red-500",children:((x=r.title)==null?void 0:x.message)??t.title})]}),f&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h6",{children:"Preview:"}),e.jsx("img",{src:f,alt:"Preview",className:"h-32 w-32 object-cover"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Image"}),e.jsx(b,{type:"file",onChange:S,className:"form-control mt-2",accept:"image/*"}),t&&e.jsx("p",{className:"text-red-500",children:t.image})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-1",children:"Status Aktif"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"radio",value:"true",...c("is_active")}),"Aktif"]}),e.jsxs("label",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"radio",value:"false",...c("is_active")}),"Tidak Aktif"]})]}),(r.is_active||(t==null?void 0:t.is_active))&&e.jsx("p",{className:"text-sm text-red-500",children:((d=r.is_active)==null?void 0:d.message)??(t==null?void 0:t.is_active)})]}),e.jsx(F,{disabled:p,type:"submit",children:p?e.jsx(U,{size:10,color:"#59b4c7"}):"submit"})]})})})]})]})}export{R as carousellScheme,B as default};
