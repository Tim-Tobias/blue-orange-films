import{j as m,L as f,S as o}from"./app-j1ScH27T.js";import{A as _,z as n}from"./index-D-M4y9lL.js";import{A as u}from"./app-layout-CzSwFohl.js";import{s as y}from"./zod-BFakTopq.js";import{u as b}from"./index.esm-C4VZY3i8.js";import{B as S}from"./button-CQ8yYxP_.js";import x from"./form_files-DxEwTs5l.js";import F from"./form_project-BRl6W9ip.js";import{c as g,T as $}from"./form_team-C5JEA6oU.js";/* empty css            */import"./index-g7ZPHCxC.js";import"./index-D7pQGCi_.js";import"./index-B0Ms5Iit.js";import"./index-BuVcSHmA.js";import"./index-lKSAcGRB.js";import"./createLucideIcon-DOmanp4f.js";import"./index-CaL2sQDG.js";import"./x-CO3OYAMq.js";import"./app-logo-icon-BEmNBPCW.js";import"./card-DZzINTpL.js";import"./input-CIUOX2Xn.js";import"./radio-group-Coyq8C8G.js";import"./textarea-BxNIrmzJ.js";import"./player-C2JKOnip.js";import"./select-JZetwoc4.js";import"./index-C6Q_E1xI.js";const c=[{title:"Dashboard",href:"/dashboard"},{title:"Projects",href:"/dashboard/Projects"}],k=n.object({title:n.string().min(1),year:n.string().min(4),duration:n.string(),aspect_ratio:n.string(),category:n.string(),description:n.string(),highlight:n.union([n.string(),n.instanceof(File)]),highlight_type:n.enum(["image","video"]),client:n.string(),agency:n.string(),teams:n.array(n.object({id_name:n.number(),name:n.string(),id_role:n.number(),role:n.string()})),files:n.array(n.object({title:n.string(),category:n.enum(["video","image"]),project_link:n.union([n.string(),n.instanceof(File)]),description:n.string()}))});function Z({isEdit:r=!1,categories:h,project:i}){const l=b({resolver:y(k),defaultValues:{title:r?i==null?void 0:i.title:"",year:r?String(i==null?void 0:i.year):"",duration:r?i==null?void 0:i.duration:"",aspect_ratio:r?i==null?void 0:i.aspect_ratio:"",category:r?String(i==null?void 0:i.id_project_category):"",description:r?i==null?void 0:i.description:"",highlight:r?String(i==null?void 0:i.highlight_link):"",highlight_type:r?i==null?void 0:i.highlight_type:"image",client:r?i==null?void 0:i.client:"",agency:r?i==null?void 0:i.agency:"",teams:r?((i==null?void 0:i.teams)??[]).map(a=>{var e,t;return{id_name:a.id_name_crew,name:g(((e=a.name_crew)==null?void 0:e.name)||""),id_role:a.id_crew_roles,role:g(((t=a.role)==null?void 0:t.name)||"")}})||[]:[],files:r?((i==null?void 0:i.files)??[]).map(a=>({title:a.title,category:a.category,project_link:r?String(a.project_link):"",description:a.description}))||[]:[]}}),{handleSubmit:d}=l,p=a=>{const e=new FormData;e.append("title",a.title),e.append("year",a.year),e.append("duration",a.duration),e.append("aspect_ratio",a.aspect_ratio),e.append("category",a.category),e.append("description",a.description),e.append("highlight_type",a.highlight_type),e.append("client",a.client),(a.highlight instanceof File||typeof a.highlight=="string")&&e.append("highlight",a.highlight),a.teams.forEach((t,s)=>{e.append(`teams[${s}][id_name]`,String(t.id_name)),e.append(`teams[${s}][id_role]`,String(t.id_role)),e.append(`teams[${s}][name]`,String(t.name)),e.append(`teams[${s}][role]`,String(t.role))}),a.files.forEach((t,s)=>{e.append(`files[${s}][title]`,t.title),e.append(`files[${s}][category]`,t.category),e.append(`files[${s}][description]`,t.description),e.append(`files[${s}][project_link]`,t.project_link)}),r?(e.append("_method","PUT"),e.append("id",String(i==null?void 0:i.id)),o.post(`/dashboard/projects/${i==null?void 0:i.id}`,e,{forceFormData:!0})):o.post("/dashboard/projects",e,{forceFormData:!0})};return m.jsxs(u,{breadcrumbs:c,children:[m.jsx(f,{title:`Admin Dashboard - ${r?"Edit":"Create"} Web Content`}),m.jsxs(_,{children:[m.jsxs("h1",{className:"text-2xl font-semibold",children:[r?"Edit":"Create"," Web Content"]}),m.jsxs("form",{onSubmit:d(p),className:"space-y-8",children:[m.jsx(F,{isEdit:r,project:i,categories:h,form:l}),m.jsx($,{form:l}),m.jsx(x,{isEdit:r,form:l}),m.jsx(S,{type:"submit",children:"Submit"})]})]})]})}export{Z as default};
