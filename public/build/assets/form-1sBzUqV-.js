import{r as c,j as e,L as z,S as J}from"./app-BDehd-ey.js";import{z as v,A as O}from"./index-BpBiTkGv.js";import{c as W,B as m}from"./app-logo-icon-CUb2kMd3.js";import{C as N,a as y,b as _,c as T}from"./card-BJ-1R0ig.js";import{I as l}from"./input-KgjiaEYa.js";import{L as n}from"./label-DYWlaVJp.js";import{S as $,a as E,b as P,c as F,d as w}from"./select-Chm9FUjz.js";import{A as B}from"./app-layout-CwQduCdT.js";/* empty css            */import"./index-D-xvPzIk.js";import"./index-Dsr1zTp_.js";import"./check-DKOcMpYi.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],M=W("Trash2",q),Y=[{title:"Dashboard",href:"/dashboard"},{title:"Projects",href:"/dashboard/Projects"}],ie=v.object({title:v.string().optional(),section:v.string().min(1,"Section is required")});function ne({isEdit:C=!1,projects:j,categories:p}){const[G,D]=c.useState([]),[b,A]=c.useState([]);c.useEffect(()=>{j&&D([j])},[j]),c.useEffect(()=>{p&&A(p)},[p]),console.log(`dataCategories ${JSON.stringify(b)}`);const[x,S]=c.useState({highlight_link:"",title:"",year:"",duration:"",aspect_ratio:"",description:"",client:"",agency:"",id_project_category:""}),[i,g]=c.useState([{title:"",project_link:"",category:"image",description:""}]),[o,u]=c.useState([]),r=t=>{const{name:s,value:a}=t.target;S({...x,[s]:a})},k=(t,s,a)=>{u(d=>d.map(f=>f.id===t?{...f,[s]:a}:f))},R=()=>{const t={id:`team-${Date.now()}`,teamName:"",crewRoles:""};u([...o,t])},L=t=>{u(o.filter(s=>s.id!==t))},h=(t,s,a)=>{const d=[...i];d[t]={...d[t],[s]:a},g(d)},I=()=>{g([...i,{title:"",project_link:"",category:"image",description:""}])},V=t=>{if(i.length>1){const s=[...i];s.splice(t,1),g(s)}},H=async t=>{t.preventDefault();const s={...x,teamMembers:o.map(a=>({nameTeams:a.teamName,nameRoles:a.crewRoles})),projectEntries:i.map(a=>({title:a.title,project_link:a.project_link,category:a.category,description:a.description}))};J.post("/dashboard/projects",s,{forceFormData:!0,onSuccess:a=>{console.log("Project created successfully",JSON.stringify(a))},onError:a=>{console.error("Error creating project:",JSON.stringify(a))}})};return e.jsxs(B,{breadcrumbs:Y,children:[e.jsx(z,{title:`Admin Dashboard - ${C?"Edit":"Create"} Web Content`}),e.jsxs(O,{children:[e.jsxs("h1",{className:"text-2xl font-semibold",children:[C?"Edit":"Create"," Web Content"]}),e.jsx(N,{children:e.jsx(y,{children:e.jsxs("form",{onSubmit:H,encType:"multipart/form-data",className:"space-y-4",children:[e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"flex flex-wrap w-full",children:[e.jsxs("div",{className:"p-4 md:w-1/2 lg:w-1/2",children:[e.jsx("label",{children:"Title"}),e.jsx(l,{type:"text",name:"title",className:"form-control mt-2",onChange:r})]}),e.jsxs("div",{className:"p-4 md:w-1/2 lg:w-1/2",children:[e.jsx("label",{children:"Highlight Link"}),e.jsx(l,{type:"text",name:"highlight_link",className:"form-control mt-2",onChange:r})]}),e.jsxs("div",{className:"p-4 md:w-1/2 lg:w-1/2",children:[e.jsx("label",{children:"Year"}),e.jsx(l,{type:"number",name:"year",min:"1900",max:"2099",step:"1",className:"form-control mt-2",onChange:r})]}),e.jsxs("div",{className:"p-4 md:w-1/2 lg:w-1/2",children:[e.jsx("label",{children:"Duration"}),e.jsx(l,{type:"text",name:"duration",placeholder:"00:00:00",pattern:"^(?:(?:([01]?\\d|2[0-3]):)?([0-5]?\\d):)?([0-5]?\\d)$",title:"Format: HH:MM:SS",className:"form-control mt-2",onChange:r})]}),e.jsxs("div",{className:"p-4 md:w-1/2 lg:w-1/2",children:[e.jsx("label",{children:"Aspect Ratio"}),e.jsx(l,{type:"text",name:"aspect_ratio",className:"form-control mt-2",onChange:r})]}),e.jsxs("div",{className:"p-4 md:w-1/2 lg:w-1/2",children:[e.jsx("label",{children:"Client"}),e.jsx(l,{type:"text",name:"client",className:"form-control mt-2",onChange:r})]}),e.jsxs("div",{className:"p-4 md:w-1/2 lg:w-1/2",children:[e.jsx("label",{children:"Agency "}),e.jsx(l,{type:"text",name:"agency",className:"form-control mt-2",onChange:r})]}),e.jsxs("div",{className:"p-4 md:w-1/2 lg:w-1/2",children:[e.jsx("label",{children:"Project Category "}),e.jsxs($,{name:"id_project_category",onValueChange:t=>S({...x,id_project_category:t}),children:[e.jsx(E,{children:e.jsx(P,{placeholder:"Select category"})}),e.jsx(F,{children:b.map(t=>e.jsx(w,{value:t.id.toString(),children:t.name},t.id))})]})]}),e.jsxs("div",{className:"p-4 w-full",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{name:"description",className:"mt-2 w-full rounded border p-2",onChange:r,rows:4})]})]})}),e.jsx("div",{className:"w-full",children:e.jsxs(N,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between",children:[e.jsx(T,{children:"Project Files"}),e.jsx(m,{type:"button",onClick:I,variant:"outline",children:"Add Files"})]}),e.jsx(y,{children:e.jsx("div",{className:"space-y-4",children:i.map((t,s)=>e.jsxs("div",{className:"bg-muted/50 flex items-center gap-4 rounded-lg p-4",children:[e.jsxs("div",{className:"grid flex-1 grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:`project-title-${s}`,children:"Title"}),e.jsx(l,{id:`project-title-${s}`,value:t.title,onChange:a=>h(s,"title",a.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:`project-link-${s}`,children:"Project Link"}),e.jsx(l,{id:`project-link-${s}`,value:t.project_link,onChange:a=>h(s,"project_link",a.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:`category-${s}`,children:"Category"}),e.jsxs($,{value:t.category,onValueChange:a=>h(s,"category",a),children:[e.jsx(E,{id:`category-${s}`,className:"mt-1",children:e.jsx(P,{placeholder:"Select category"})}),e.jsxs(F,{children:[e.jsx(w,{value:"video",children:"Video"}),e.jsx(w,{value:"image",children:"Image"})]})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx(n,{htmlFor:`description-${s}`,children:"Description"}),e.jsx("textarea",{id:`description-${s}`,value:t.description,onChange:a=>h(s,"description",a.target.value),className:"mt-2 w-full rounded border p-2"})]})]}),e.jsx(m,{type:"button",variant:"ghost",size:"icon",onClick:()=>V(s),children:e.jsx(M,{})})]},s))})})]})}),e.jsx("div",{className:"w-full",children:e.jsxs(N,{children:[e.jsxs(_,{className:"flex flex-row items-center justify-between",children:[e.jsx(T,{children:"Project Team"}),e.jsx(m,{type:"button",onClick:R,variant:"outline",children:"Add Team"})]}),e.jsx(y,{children:e.jsxs("div",{className:"space-y-4",children:[o.length===0&&e.jsx("p",{className:"text-muted-foreground text-sm",children:'No team members added yet. Click "Add Team" to add team members.'}),o.map(t=>e.jsxs("div",{className:"bg-muted/50 flex items-center gap-4 rounded-lg p-4",children:[e.jsxs("div",{className:"grid flex-1 grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:`team-name-${t.id}`,children:"Team Name"}),e.jsx(l,{id:`team-name-${t.id}`,value:t.teamName,onChange:s=>k(t.id,"teamName",s.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:`crew-roles-${t.id}`,children:"Crew Roles"}),e.jsx(l,{id:`crew-roles-${t.id}`,value:t.crewRoles,onChange:s=>k(t.id,"crewRoles",s.target.value),className:"mt-1"})]})]}),e.jsxs(m,{type:"button",variant:"ghost",size:"icon",onClick:()=>L(t.id),className:"h-9 w-9 shrink-0",children:[e.jsx(M,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Remove team member"})]})]},t.id))]})})]})}),e.jsx(m,{type:"submit",children:"Submit"})]})})})]})]})}export{ne as default,ie as webContentScheme};
