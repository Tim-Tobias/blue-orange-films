import{U as r,K as O,r as P,j as n}from"./app-j1ScH27T.js";import{P as z}from"./player-C2JKOnip.js";import{C as U,b as A,a as $}from"./card-DZzINTpL.js";import{I as E}from"./input-CIUOX2Xn.js";import{R as V,a as T}from"./radio-group-Coyq8C8G.js";import{S as _,a as K,b as Y,c as q,d as G}from"./select-JZetwoc4.js";/* empty css            */import"./index-BuVcSHmA.js";import"./index-g7ZPHCxC.js";import"./createLucideIcon-DOmanp4f.js";import"./index-D7pQGCi_.js";import"./index-lKSAcGRB.js";import"./index-B0Ms5Iit.js";import"./index-C6Q_E1xI.js";var p=function(){return p=Object.assign||function(e){for(var l,a=1,c=arguments.length;a<c;a++){l=arguments[a];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},p.apply(this,arguments)};function C(t,e){var l={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(l[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(t);c<a.length;c++)e.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(t,a[c])&&(l[a[c]]=t[a[c]]);return l}function H(t){if(t){var e=t.textContent,l=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/;t.style.direction=e&&l.test(e[0])?"rtl":"ltr"}}function M(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(Boolean).join(" ")}function J(){if(document.selection)return document.selection.createRange().parentElement();var t=window.getSelection();if(t&&t.rangeCount>0)return t.getRangeAt(0).startContainer.parentNode||void 0}function L(t){return t?t.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>"):""}function Q(t){var e=document.createTextNode("");t.appendChild(e);var l=document.activeElement===t;if(e!==null&&e.nodeValue!==null&&l){var a=window.getSelection();if(a!==null){var c=document.createRange();c.setStart(e,e.nodeValue.length),c.collapse(!0),a.removeAllRanges(),a.addRange(c)}t instanceof HTMLElement&&t.focus()}}function D(t,e){typeof e=="function"?e(t):typeof e=="object"&&e&&(e.current=t)}var W=r.memo(r.forwardRef(function(e,l){var a=e.className,c=e.disabled,o=e.tagName,d=e.value,u=d===void 0?"":d,m=e.placeholder,f=C(e,["className","disabled","tagName","value","placeholder"]),h=r.useRef(null),g=r.useRef(u),s=r.useRef(f);return r.useEffect(function(){s.current=f;var i=h.current;i&&L(g.current)!==L(u)&&(g.current=u,i.innerHTML=u,Q(i))}),r.useMemo(function(){function i(x){h.current=x,H(x),D(x,l)}function v(x){var R,S,k=h.current;if(k){var B=k.innerHTML;B!==g.current&&((S=(R=s.current).onChange)===null||S===void 0||S.call(R,p(p({},x),{target:{value:B,name:f.name}}))),H(k),g.current=B}}var y=M("rsw-ce",a);return r.createElement(o||"div",p(p({},f),{className:y,contentEditable:!c,dangerouslySetInnerHTML:{__html:u},onBlur:function(x){return(s.current.onBlur||v)(x)},onInput:v,onKeyDown:function(x){return(s.current.onKeyDown||v)(x)},onKeyUp:function(x){return(s.current.onKeyUp||v)(x)},placeholder:m,ref:i}))},[a,c,m,o])})),I=r.createContext(void 0);function X(t){var e=t.children,l=r.useState({htmlMode:!1,update:o}),a=l[0],c=l[1];function o(d){c(function(u){return p(p({},u),d)})}return r.createElement(I.Provider,{value:a},e)}function j(){var t=r.useContext(I);if(!t)throw new Error("You should wrap your component by EditorProvider");return t}var F=[],w=[];function Z(t,e){if(t&&typeof document<"u"){var l,a=e.prepend===!0?"prepend":"append",c=e.singleTag===!0,o=typeof e.container=="string"?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(c){var d=F.indexOf(o);d===-1&&(d=F.push(o)-1,w[d]={}),l=w[d]&&w[d][a]?w[d][a]:w[d][a]=u()}else l=u();t.charCodeAt(0)===65279&&(t=t.substring(1)),l.styleSheet?l.styleSheet.cssText+=t:l.appendChild(document.createTextNode(t))}function u(){var m=document.createElement("style");if(m.setAttribute("type","text/css"),e.attributes)for(var f=Object.keys(e.attributes),h=0;h<f.length;h++)m.setAttribute(f[h],e.attributes[f[h]]);var g=a==="prepend"?"afterbegin":"beforeend";return o.insertAdjacentElement(g,m),m}}var ee=".rsw-editor{border:1px solid #ddd;border-radius:.375rem;display:flex;flex-direction:column;min-height:100px;overflow:hidden}.rsw-ce{flex:1 0 auto;padding:.5rem}.rsw-ce:focus{outline:1px solid #668}.rsw-ce[contentEditable=true]:empty:not(:focus):before{color:grey;content:attr(placeholder);pointer-events:none}.rsw-html{background:transparent;border:none;font-family:monospace,Courier New}.rsw-separator{align-self:stretch;border-right:1px solid #ddd;display:flex;margin:0 3px}.rsw-dd{box-sizing:border-box;outline:none}.rsw-btn{background:transparent;border:0;color:#222;cursor:pointer;font-size:1em;height:2em;outline:none;padding:0;width:2em}.rsw-btn:hover{background:#eaeaea}.rsw-btn[data-active=true]{background:#e0e0e0}.rsw-toolbar{align-items:center;background-color:#f5f5f5;border-bottom:1px solid #ddd;display:flex}";Z(ee,{});var te=r.forwardRef(function(e,l){var a=e.autoFocus,c=e.children,o=e.containerProps,d=e.onSelect,u=C(e,["autoFocus","children","containerProps","onSelect"]),m=j();r.useEffect(function(){return document.addEventListener("click",f),function(){return document.removeEventListener("click",f)}});function f(i){var v;i.target!==m.$el&&(!((v=m.$el)===null||v===void 0)&&v.contains(i.target)||m.update({$selection:void 0}))}function h(i){d==null||d(i),m.update({$selection:J()})}function g(i){m.update({$el:i}),D(i,l),a&&i&&m.$el===void 0&&i.focus()}var s=M("rsw-editor",o==null?void 0:o.className);return m.htmlMode?r.createElement("div",p({},o,{className:s}),c,r.createElement("textarea",p({},u,{className:"rsw-ce rsw-html"}))):r.createElement("div",p({},o,{className:s}),c,r.createElement(W,p({},u,{ref:g,onSelect:h})))});function re(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},r.createElement("path",{fill:"currentColor",d:"M6.99938 12.998v-2H20.9994v2H6.99938zm0 6.0001v-2H20.9994v2H6.99938zm0-12.00001v-2H20.9994v2H6.99938zm-4 1v-3h-1v-1h2v4h-1zm-1 9.00001v-1h3v4h-3v-1h2v-.5h-1v-1h1v-.5h-2zM4.25 10c.41421 0 .75.3358.75.75 0 .2024-.08017.3861-.2105.521L3.11983 13H5v1H2v-.9218L4 11H2v-1h2.25z"}))}function ne(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},r.createElement("path",{fill:"currentColor",d:"M7 5h14v2H7V5zm0 8v-2h14v2H7zM4 4.50001c.83 0 1.5.66992 1.5 1.5 0 .83007-.67 1.5-1.5 1.5s-1.5-.66993-1.5-1.5c0-.83008.67-1.5 1.5-1.5zM4 10.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM7 19v-2h14v2H7zm-3-2.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5z"}))}var ae=b("Bold","𝐁","bold"),le=b("Bullet list",r.createElement(ne,null),"insertUnorderedList"),oe=b("Clear formatting","T̲ₓ","removeFormat"),ie=b("Italic","𝑰","italic"),ce=b("Strike through",r.createElement("s",null,"ab"),"strikeThrough"),se=b("Link","🔗",function(t){var e=t.$selection;(e==null?void 0:e.nodeName)==="A"?document.execCommand("unlink"):document.execCommand("createLink",!1,prompt("URL","")||void 0)}),de=b("Numbered list",r.createElement(re,null),"insertOrderedList"),ue=b("Redo","↷","redo"),me=b("Underline",r.createElement("span",{style:{textDecoration:"underline"}},"𝐔"),"underline"),he=b("Undo","↶","undo");function b(t,e,l){return a.displayName=t.replace(/\s/g,""),a;function a(c){var o=j(),d=o.$el,u=o.$selection,m=!1;typeof l=="string"&&(m=!!u&&document.queryCommandState(l));function f(h){h.preventDefault(),document.activeElement!==d&&(d==null||d.focus()),typeof l=="function"?l(o):document.execCommand(l)}return o.htmlMode?null:r.createElement("button",p({className:"rsw-btn","data-active":m,onMouseDown:f,tabIndex:-1,title:t,type:"button"},c),e)}}var fe=pe("Styles",[["Normal","formatBlock","DIV"],["𝗛𝗲𝗮𝗱𝗲𝗿 𝟭","formatBlock","H1"],["Header 2","formatBlock","H2"],["𝙲𝚘𝚍𝚎","formatBlock","PRE"]]);function pe(t,e){return l.displayName=t,l;function l(a){var c=j(),o=c.$el,d=c.$selection,u=c.htmlMode;if(u)return null;var m=e.findIndex(function(h){return h[1]==="formatBlock"&&(d==null?void 0:d.nodeName)===h[2]});return r.createElement(ve,p({},a,{items:e,onChange:f,selected:m,tabIndex:-1,title:t}));function f(h){var g=h.target,s=g.value,i=parseInt(s,10),v=e[i]||[],y=v[1],x=v[2];h.preventDefault(),document.activeElement!==o&&(o==null||o.focus()),typeof y=="function"?y(c):y&&document.execCommand(y,!1,x),setTimeout(function(){return g.value=s},10)}}}function ve(t){var e=t.items,l=t.selected,a=C(t,["items","selected"]);return r.createElement("select",p({className:"rsw-dd"},a,{value:l}),r.createElement("option",{hidden:!0},a.title),e.map(function(c,o){return r.createElement("option",{key:c[2],value:o},c[0])}))}function ge(t){var e=C(t,[]),l=j();function a(){l.update({htmlMode:!l.htmlMode})}return r.createElement("button",p({className:"rsw-btn","data-active":l.htmlMode,onClick:a,tabIndex:-1,title:"HTML mode",type:"button"},e),"</>")}function N(t){var e=j();return e.htmlMode?null:r.createElement("div",p({className:"rsw-separator"},t))}function xe(t){return r.createElement("div",p({className:"rsw-toolbar"},t))}var be=r.forwardRef(function(e,l){return r.createElement(X,null,r.createElement(te,p({},e,{ref:l}),e.children||r.createElement(xe,null,r.createElement(he,null),r.createElement(ue,null),r.createElement(N,null),r.createElement(ae,null),r.createElement(ie,null),r.createElement(me,null),r.createElement(ce,null),r.createElement(N,null),r.createElement(de,null),r.createElement(le,null),r.createElement(N,null),r.createElement(se,null),r.createElement(oe,null),r.createElement(ge,null),r.createElement(N,null),r.createElement(fe,null))))});function Me({categories:t,form:e,isEdit:l,project:a}){const{errors:c}=O().props,{register:o,setValue:d,watch:u,formState:{errors:m}}=e,[f,h]=P.useState(u("highlight_type")||"image"),g=i=>{h(i),d("highlight",""),d("highlight_type",i)},s=i=>{var v;return((v=m[i])==null?void 0:v.message)||c[i]};return n.jsxs(U,{children:[n.jsx(A,{className:"text-xl font-semibold",children:"Project Data"}),n.jsxs($,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(E,{placeholder:"Title",...o("title")}),s("title")&&n.jsx("p",{className:"text-sm text-red-500",children:s("title")})]}),n.jsxs("div",{children:[n.jsx(E,{placeholder:"Year",pattern:"[0-9]{3}-[0-9]{2}-[0-9]{3}",type:"number",...o("year")}),s("year")&&n.jsx("p",{className:"text-sm text-red-500",children:s("year")})]}),n.jsxs("div",{children:[n.jsx(E,{placeholder:"Client",...o("client")}),s("client")&&n.jsx("p",{className:"text-sm text-red-500",children:s("client")})]}),n.jsxs("div",{children:[n.jsx(E,{placeholder:"Duration",...o("duration")}),s("duration")&&n.jsx("p",{className:"text-sm text-red-500",children:s("duration")})]}),n.jsxs("div",{children:[n.jsx(E,{placeholder:"Aspect Ratio",...o("aspect_ratio")}),s("aspect_ratio")&&n.jsx("p",{className:"text-sm text-red-500",children:s("aspect_ratio")})]}),n.jsxs("div",{children:[n.jsxs(_,{onValueChange:i=>d("category",i),value:String(u("category")),children:[n.jsx(K,{children:n.jsx(Y,{placeholder:"Select Category"})}),n.jsx(q,{children:t.map(i=>n.jsx(G,{value:String(i.id),children:i.name},i.id))})]}),s("category")&&n.jsx("p",{className:"text-sm text-red-500",children:s("category")})]}),n.jsxs("div",{children:[n.jsx("label",{className:"mb-1 block font-medium",children:"Description"}),n.jsx(be,{value:u("description")||"",onChange:i=>d("description",i.target.value)}),s("description")&&n.jsx("p",{className:"text-sm text-red-500",children:s("description")})]}),n.jsxs("div",{children:[n.jsx("label",{className:"mb-1 block font-medium",children:"Highlight Type"}),n.jsxs(V,{value:f,onValueChange:i=>g(i),className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(T,{value:"image",id:"highlight-photo"}),n.jsx("label",{htmlFor:"highlight-photo",children:"Upload Photo"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(T,{value:"video",id:"highlight-video"}),n.jsx("label",{htmlFor:"highlight-video",children:"YouTube Link"})]})]}),s("highlight_type")&&n.jsx("p",{className:"text-sm text-red-500",children:s("highlight")})]}),n.jsxs("div",{children:[f==="image"?n.jsxs(n.Fragment,{children:[n.jsxs("label",{className:"mb-1 block",children:[l?"Edit":"Upload"," Image"]}),n.jsx(E,{type:"file",accept:"image/*",onChange:i=>{var v;return d("highlight",((v=i.target.files)==null?void 0:v[0])??"")}})]}):n.jsx(E,{type:"text",placeholder:"YouTube Link",...o("highlight")}),s("highlight")&&n.jsx("p",{className:"text-sm text-red-500",children:s("highlight")})]}),l&&n.jsxs("div",{children:[f==="image"?n.jsx("img",{src:typeof u("highlight")=="object"?URL.createObjectURL(u("highlight")):String(a==null?void 0:a.highlight_url),alt:"",className:"h-[200px] w-[200px]"}):n.jsxs("div",{className:"h-[200px] w-[200px]",children:[n.jsx(z,{url:String(u("highlight"))||String(a==null?void 0:a.highlight_link)})," "]}),s("highlight")&&n.jsx("p",{className:"text-sm text-red-500",children:s("highlight")})]})]})]})}export{Me as default};
