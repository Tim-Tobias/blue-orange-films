import{K as F,j as e}from"./app-j1ScH27T.js";import{B as I}from"./button-CQ8yYxP_.js";import{C as R,b as T,a as V}from"./card-DZzINTpL.js";import{I as m}from"./input-CIUOX2Xn.js";import{R as E,a as N}from"./radio-group-Coyq8C8G.js";import{T as w}from"./textarea-BxNIrmzJ.js";import{a as A}from"./index.esm-C4VZY3i8.js";import{X as B}from"./x-CO3OYAMq.js";/* empty css            */import"./index-g7ZPHCxC.js";import"./index-BuVcSHmA.js";import"./createLucideIcon-DOmanp4f.js";function M({form:k}){const{errors:r}=F().props,{control:C,setValue:o,register:p,watch:c,formState:{errors:l}}=k,{fields:n,append:b,remove:y}=A({control:C,name:"files"}),_=(t,s)=>{const i=[...c("files")];i[t].category=s,i[t].project_link="",o("files",i)};return e.jsxs(R,{children:[e.jsx(T,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h6",{className:"text-xl font-semibold",children:"Project Files"}),e.jsx(I,{type:"button",onClick:()=>b({title:"",category:"image",project_link:"",description:""}),children:"Add File"})]})}),e.jsx(V,{children:e.jsx("div",{className:"grid grid-cols-1 gap-5",children:n.map((t,s)=>{var i,d,f,j,x,h,g,u,$;return e.jsxs("div",{className:"flex flex-col gap-3 border-b pb-4",children:[e.jsxs("div",{children:[e.jsx(m,{placeholder:"Title",...p(`files.${s}.title`)}),((d=(i=l.files)==null?void 0:i[s])==null?void 0:d.title)&&e.jsx("p",{className:"text-sm text-red-500",children:(f=l.files[s].title)==null?void 0:f.message}),r[`files.${s}.title`]&&e.jsx("p",{className:"text-sm text-red-500",children:r[`files.${s}.title`]})]}),e.jsxs(E,{defaultValue:t.category,onValueChange:a=>_(s,a),className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{value:"image",id:`image-${t.id}`}),e.jsx("label",{htmlFor:`image-${t.id}`,children:"Image"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{value:"video",id:`video-${t.id}`}),e.jsx("label",{htmlFor:`video-${t.id}`,children:"Video"})]})]}),c(`files.${s}.category`)==="image"?e.jsx(m,{type:"file",accept:"image/*",onChange:a=>{var v;return o(`files.${s}.project_link`,((v=a.target.files)==null?void 0:v[0])??"")}}):e.jsx(m,{type:"text",placeholder:"YouTube Link",value:c(`files.${s}.project_link`)??"",onChange:a=>o(`files.${s}.project_link`,a.target.value)}),((x=(j=l.files)==null?void 0:j[s])==null?void 0:x.project_link)&&e.jsx("p",{className:"text-sm text-red-500",children:(h=l.files[s].project_link)==null?void 0:h.message}),r[`files.${s}.project_link`]&&e.jsx("p",{className:"text-sm text-red-500",children:r[`files.${s}.project_link`]}),e.jsx(w,{placeholder:"Description",...p(`files.${s}.description`)}),((u=(g=l.files)==null?void 0:g[s])==null?void 0:u.description)&&e.jsx("p",{className:"text-sm text-red-500",children:($=l.files[s].description)==null?void 0:$.message}),r[`files.${s}.description`]&&e.jsx("p",{className:"text-sm text-red-500",children:r[`files.${s}.description`]}),n.length>1&&e.jsx(B,{onClick:()=>y(s),className:"cursor-pointer self-end text-red-600"})]},t.id)})})})]})}export{M as default};
