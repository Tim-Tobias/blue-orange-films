import{K as D,r as m,j as e,L as A,S as j}from"./app-CQZ61BoK.js";import{z as c,A as F}from"./index-BKgjLX_2.js";import{B as w}from"./button-DVn2xeT-.js";import{C as I,a as L}from"./card-DIbaGwzd.js";import{I as v}from"./input-pnqkoKf5.js";import{A as T}from"./app-layout-Brq4PTvv.js";import{s as U}from"./zod-DeTqYMNs.js";import{u as P}from"./index.esm-BK5FmO0I.js";import{D as k}from"./index.es-BYdaMRPf.js";import{S as E}from"./SyncLoader-DdYVSnic.js";/* empty css            */import"./index-C9Wy1Z_c.js";import"./createLucideIcon-Dt3Zlyou.js";import"./index-B9z1W7SR.js";import"./index-DbyAg2DU.js";import"./x-Cm2QhUop.js";import"./Blueorange-Square-BHcpwURD.js";const R=[{title:"Dashboard",href:"/dashboard"},{title:"Service",href:"/dashboard/services"}],q=c.object({title:c.string().min(1,"Title is required"),description:c.string().min(1,"Desription is required"),is_active:c.enum(["true","false"])});function ie({isEdit:o=!1,data:s}){var u,f;const{errors:t}=D().props,[p,a]=m.useState(!1),[d,b]=m.useState(),[x,g]=m.useState((s==null?void 0:s.image_url)||null),{register:n,setValue:S,handleSubmit:N,watch:_,formState:{errors:l}}=P({resolver:U(q),defaultValues:{title:(s==null?void 0:s.title)||"",description:(s==null?void 0:s.description)||"",is_active:s!=null&&s.is_active?"true":"false"}}),y=r=>{var h;const i=(h=r.target.files)==null?void 0:h[0];i&&(b(i),g(URL.createObjectURL(i)))},C=r=>{a(!0);const i=new FormData;i.append("title",r.title||""),i.append("description",r.description||""),i.append("is_active",r.is_active==="true"?"1":"0"),d instanceof File&&i.append("image",d),o&&(s!=null&&s.id)?(i.append("_method","PUT"),j.post(`/dashboard/services/${s.id}`,i,{forceFormData:!0,onFinish:()=>{a(!1)}})):j.post("/dashboard/services",i,{forceFormData:!0,onFinish:()=>{a(!1)}})};return e.jsxs(T,{breadcrumbs:R,children:[e.jsx(A,{title:`Admin Dashboard - ${o?"Edit":"Create"} Service`}),e.jsxs(F,{children:[e.jsxs("h1",{className:"text-2xl font-semibold",children:[o?"Edit":"Create"," Service"]}),e.jsx(I,{children:e.jsx(L,{children:e.jsxs("form",{onSubmit:N(C),encType:"multipart/form-data",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Title"}),e.jsx(v,{type:"text",...n("title"),className:"form-control mt-2"}),(l.title||t)&&e.jsx("p",{className:"text-red-500",children:((u=l.title)==null?void 0:u.message)??t.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block font-medium",children:"Content"}),e.jsx(k,{value:_("description")||"",onChange:r=>S("description",r.target.value)}),l.description&&e.jsx("p",{className:"text-sm text-red-500",children:l.description.message})]}),x&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h6",{children:"Preview:"}),e.jsx("img",{src:x,alt:"Preview",className:"h-32 w-32 object-cover"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Image"}),e.jsx(v,{type:"file",onChange:y,className:"form-control mt-2",accept:"image/*"}),t&&e.jsx("p",{className:"text-red-500",children:t.image})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-1",children:"Status Aktif"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"radio",value:"true",...n("is_active")}),"Aktif"]}),e.jsxs("label",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"radio",value:"false",...n("is_active")}),"Tidak Aktif"]})]}),(l.is_active||(t==null?void 0:t.is_active))&&e.jsx("p",{className:"text-sm text-red-500",children:((f=l.is_active)==null?void 0:f.message)??(t==null?void 0:t.is_active)})]}),e.jsx(w,{disabled:p,type:"submit",children:p?e.jsx(E,{size:10,color:"#59b4c7"}):"submit"})]})})})]})]})}export{ie as default,q as serviceScheme};
