import{K as N,r as i,j as e,L as v,S as u}from"./app-j1ScH27T.js";import{z as b,A as y}from"./index-D-M4y9lL.js";import{B as A}from"./button-CQ8yYxP_.js";import{C,a as w}from"./card-DZzINTpL.js";import{I as F}from"./input-CIUOX2Xn.js";import{A as D}from"./app-layout-CzSwFohl.js";import{s as I}from"./zod-BFakTopq.js";import{u as L}from"./index.esm-C4VZY3i8.js";import{S as U}from"./SyncLoader-B4CVMafc.js";/* empty css            */import"./index-g7ZPHCxC.js";import"./index-D7pQGCi_.js";import"./index-B0Ms5Iit.js";import"./index-BuVcSHmA.js";import"./index-lKSAcGRB.js";import"./createLucideIcon-DOmanp4f.js";import"./index-CaL2sQDG.js";import"./x-CO3OYAMq.js";import"./app-logo-icon-BEmNBPCW.js";const P=[{title:"Dashboard",href:"/dashboard"},{title:"About",href:"/dashboard/abouts"}],B=b.object({content:b.string().optional()});function ee({isEdit:s=!1,data:t}){const{errors:m}=N().props,[c,o]=i.useState(!1),[l,f]=i.useState(),[p,h]=i.useState((t==null?void 0:t.image_url)||null),{register:x,setValue:R,handleSubmit:j,formState:{errors:n}}=L({resolver:I(B),defaultValues:{content:(t==null?void 0:t.content)||""}}),g=a=>{var d;const r=(d=a.target.files)==null?void 0:d[0];r&&(f(r),h(URL.createObjectURL(r)))},S=a=>{o(!0);const r=new FormData;r.append("content",a.content||""),l instanceof File&&r.append("image",l),s&&(t!=null&&t.id)?(r.append("_method","PUT"),u.post(`/dashboard/abouts/${t.id}`,r,{forceFormData:!0,onFinish:()=>{o(!1)}})):u.post("/dashboard/abouts",r,{forceFormData:!0,onFinish:()=>{o(!1)}})};return e.jsxs(D,{breadcrumbs:P,children:[e.jsx(v,{title:`Admin Dashboard - ${s?"Edit":"Create"} About`}),e.jsxs(y,{children:[e.jsxs("h1",{className:"text-2xl font-semibold",children:[s?"Edit":"Create"," About"]}),e.jsx(C,{children:e.jsx(w,{children:e.jsxs("form",{onSubmit:j(S),encType:"multipart/form-data",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"mb-1 block",children:["Content ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{rows:4,...x("content"),className:`form-control mt-2 w-full rounded border px-3 py-2 ${n.content?"border-red-500":"border-gray-300"}`}),n.content&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:n.content.message})]}),p&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h6",{children:"Preview:"}),e.jsx("img",{src:p,alt:"Preview",className:"h-32 w-32 object-cover"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Image"}),e.jsx(F,{type:"file",onChange:g,className:"form-control mt-2",accept:"image/*"}),m&&e.jsx("p",{className:"text-red-500",children:m.image})]}),e.jsx(A,{disabled:c,type:"submit",children:c?e.jsx(U,{size:10,color:"#59b4c7"}):"submit"})]})})})]})]})}export{B as aboutScheme,ee as default};
