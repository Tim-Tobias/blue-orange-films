import{K as C,r as o,j as e,L as y,S as j}from"./app-CQZ61BoK.js";import{z as c,A}from"./index-BKgjLX_2.js";import{B as F}from"./button-DVn2xeT-.js";import{C as w,a as D}from"./card-DIbaGwzd.js";import{I as b}from"./input-pnqkoKf5.js";import{A as I}from"./app-layout-Brq4PTvv.js";import{s as L}from"./zod-DeTqYMNs.js";import{u as U}from"./index.esm-BK5FmO0I.js";import{S as P}from"./SyncLoader-DdYVSnic.js";/* empty css            */import"./index-C9Wy1Z_c.js";import"./createLucideIcon-Dt3Zlyou.js";import"./index-B9z1W7SR.js";import"./index-DbyAg2DU.js";import"./x-Cm2QhUop.js";import"./Blueorange-Square-BHcpwURD.js";const R=[{title:"Dashboard",href:"/dashboard"},{title:"Client",href:"/dashboard/clients"}],T=c.object({name:c.string().min(1,"Name is required"),is_active:c.enum(["true","false"])});function B({isEdit:m=!1,data:s}){var d,u;const{errors:t}=C().props,[p,l]=o.useState(!1),[f,v]=o.useState(),[x,g]=o.useState((s==null?void 0:s.image_url)||null),{register:n,setValue:k,handleSubmit:N,formState:{errors:r}}=U({resolver:L(T),defaultValues:{name:(s==null?void 0:s.name)||"",is_active:s!=null&&s.is_active?"true":"false"}}),S=a=>{var h;const i=(h=a.target.files)==null?void 0:h[0];i&&(v(i),g(URL.createObjectURL(i)))},_=a=>{l(!0);const i=new FormData;i.append("name",a.name||""),i.append("is_active",a.is_active==="true"?"1":"0"),f instanceof File&&i.append("image",f),m&&(s!=null&&s.id)?(i.append("_method","PUT"),j.post(`/dashboard/clients/${s.id}`,i,{forceFormData:!0,onFinish:()=>{l(!1)}})):j.post("/dashboard/clients",i,{forceFormData:!0,onFinish:()=>{l(!1)}})};return e.jsxs(I,{breadcrumbs:R,children:[e.jsx(y,{title:`Admin Dashboard - ${m?"Edit":"Create"} Client`}),e.jsxs(A,{children:[e.jsxs("h1",{className:"text-2xl font-semibold",children:[m?"Edit":"Create"," Client"]}),e.jsx(w,{children:e.jsx(D,{children:e.jsxs("form",{onSubmit:N(_),encType:"multipart/form-data",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Name"}),e.jsx(b,{type:"text",...n("name"),className:"form-control mt-2"}),(r.name||t)&&e.jsx("p",{className:"text-red-500",children:((d=r.name)==null?void 0:d.message)??t.name})]}),x&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h6",{children:"Preview:"}),e.jsx("img",{src:x,alt:"Preview",className:"h-32 w-32 object-cover"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Image"}),e.jsx(b,{type:"file",onChange:S,className:"form-control mt-2",accept:"image/*"}),t&&e.jsx("p",{className:"text-red-500",children:t.image})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-1",children:"Status Aktif"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"radio",value:"true",...n("is_active")}),"Aktif"]}),e.jsxs("label",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"radio",value:"false",...n("is_active")}),"Tidak Aktif"]})]}),(r.is_active||(t==null?void 0:t.is_active))&&e.jsx("p",{className:"text-sm text-red-500",children:((u=r.is_active)==null?void 0:u.message)??(t==null?void 0:t.is_active)})]}),e.jsx(F,{disabled:p,type:"submit",children:p?e.jsx(P,{size:10,color:"#59b4c7"}):"submit"})]})})})]})]})}export{T as clientScheme,B as default};
