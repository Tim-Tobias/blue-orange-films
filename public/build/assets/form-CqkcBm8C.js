import{K as A,r as m,j as e,L as C,S as d}from"./app-CQZ61BoK.js";import{z as l,A as y}from"./index-BKgjLX_2.js";import{B as D}from"./button-DVn2xeT-.js";import{C as F,a as w}from"./card-DIbaGwzd.js";import{I}from"./input-pnqkoKf5.js";import{A as L}from"./app-layout-Brq4PTvv.js";import{s as U}from"./zod-DeTqYMNs.js";import{u as P}from"./index.esm-BK5FmO0I.js";import{D as E}from"./index.es-BYdaMRPf.js";import{S as R}from"./SyncLoader-DdYVSnic.js";/* empty css            */import"./index-C9Wy1Z_c.js";import"./createLucideIcon-Dt3Zlyou.js";import"./index-B9z1W7SR.js";import"./index-DbyAg2DU.js";import"./x-Cm2QhUop.js";import"./Blueorange-Square-BHcpwURD.js";const T=[{title:"Dashboard",href:"/dashboard"},{title:"About",href:"/dashboard/abouts"}],z=l.object({content:l.string().min(1,"Content is required"),is_active:l.enum(["true","false"])});function te({isEdit:a=!1,data:t}){var x;const{errors:s}=A().props,[c,n]=m.useState(!1),[p,b]=m.useState(),[u,j]=m.useState((t==null?void 0:t.image_url)||null),{register:f,setValue:v,handleSubmit:g,watch:S,formState:{errors:o}}=P({resolver:U(z),defaultValues:{content:(t==null?void 0:t.content)||"",is_active:t!=null&&t.is_active?"true":"false"}}),N=r=>{var h;const i=(h=r.target.files)==null?void 0:h[0];i&&(b(i),j(URL.createObjectURL(i)))},_=r=>{n(!0);const i=new FormData;i.append("content",r.content||""),i.append("is_active",r.is_active==="true"?"1":"0"),p instanceof File&&i.append("image",p),a&&(t!=null&&t.id)?(i.append("_method","PUT"),d.post(`/dashboard/abouts/${t.id}`,i,{forceFormData:!0,onFinish:()=>{n(!1)}})):d.post("/dashboard/abouts",i,{forceFormData:!0,onFinish:()=>{n(!1)}})};return e.jsxs(L,{breadcrumbs:T,children:[e.jsx(C,{title:`Admin Dashboard - ${a?"Edit":"Create"} About`}),e.jsxs(y,{children:[e.jsxs("h1",{className:"text-2xl font-semibold",children:[a?"Edit":"Create"," About"]}),e.jsx(F,{children:e.jsx(w,{children:e.jsxs("form",{onSubmit:g(_),encType:"multipart/form-data",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block font-medium",children:"Content"}),e.jsx(E,{value:S("content")||"",onChange:r=>v("content",r.target.value)}),o.content&&e.jsx("p",{className:"text-sm text-red-500",children:o.content.message})]}),u&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h6",{children:"Preview:"}),e.jsx("img",{src:u,alt:"Preview",className:"h-32 w-32 object-cover"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Image"}),e.jsx(I,{type:"file",onChange:N,className:"form-control mt-2",accept:"image/*"}),typeof(s==null?void 0:s.image)=="string"&&e.jsx("p",{className:"text-sm text-red-500",children:s.image})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block font-medium mb-1",children:"Status Aktif"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"radio",value:"true",...f("is_active")}),"Aktif"]}),e.jsxs("label",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"radio",value:"false",...f("is_active")}),"Tidak Aktif"]})]}),(o.is_active||(s==null?void 0:s.is_active))&&e.jsx("p",{className:"text-sm text-red-500",children:((x=o.is_active)==null?void 0:x.message)??(s==null?void 0:s.is_active)})]}),e.jsx(D,{disabled:c,type:"submit",children:c?e.jsx(R,{size:10,color:"#59b4c7"}):"submit"})]})})})]})]})}export{z as aboutScheme,te as default};
