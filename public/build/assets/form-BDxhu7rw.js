import{K as y,r as n,j as e,L as w,S as u}from"./app-j1ScH27T.js";import{z as m,A as C}from"./index-D-M4y9lL.js";import{B as F}from"./button-CQ8yYxP_.js";import{C as D,a as I}from"./card-DZzINTpL.js";import{I as j}from"./input-CIUOX2Xn.js";import{A as L}from"./app-layout-CzSwFohl.js";import{s as A}from"./zod-BFakTopq.js";import{u as U}from"./index.esm-C4VZY3i8.js";import{S as P}from"./SyncLoader-B4CVMafc.js";/* empty css            */import"./index-g7ZPHCxC.js";import"./index-D7pQGCi_.js";import"./index-B0Ms5Iit.js";import"./index-BuVcSHmA.js";import"./index-lKSAcGRB.js";import"./createLucideIcon-DOmanp4f.js";import"./index-CaL2sQDG.js";import"./x-CO3OYAMq.js";import"./app-logo-icon-BEmNBPCW.js";const B=[{title:"Dashboard",href:"/dashboard"},{title:"Service",href:"/dashboard/services"}],R=m.object({title:m.string().optional(),description:m.string().optional()});function re({isEdit:c=!1,data:r}){var h;const{errors:i}=y().props,[a,l]=n.useState(!1),[p,b]=n.useState(),[d,g]=n.useState((r==null?void 0:r.image_url)||null),{register:x,setValue:T,handleSubmit:v,formState:{errors:t}}=U({resolver:A(R),defaultValues:{title:(r==null?void 0:r.title)||"",description:(r==null?void 0:r.description)||""}}),S=o=>{var f;const s=(f=o.target.files)==null?void 0:f[0];s&&(b(s),g(URL.createObjectURL(s)))},N=o=>{l(!0);const s=new FormData;s.append("title",o.title||""),s.append("description",o.description||""),p instanceof File&&s.append("image",p),c&&(r!=null&&r.id)?(s.append("_method","PUT"),u.post(`/dashboard/services/${r.id}`,s,{forceFormData:!0,onFinish:()=>{l(!1)}})):u.post("/dashboard/services",s,{forceFormData:!0,onFinish:()=>{l(!1)}})};return e.jsxs(L,{breadcrumbs:B,children:[e.jsx(w,{title:`Admin Dashboard - ${c?"Edit":"Create"} Service`}),e.jsxs(C,{children:[e.jsxs("h1",{className:"text-2xl font-semibold",children:[c?"Edit":"Create"," Service"]}),e.jsx(D,{children:e.jsx(I,{children:e.jsxs("form",{onSubmit:v(N),encType:"multipart/form-data",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{children:"Title"}),e.jsx(j,{type:"text",...x("title"),className:"form-control mt-2"}),(t.title||i)&&e.jsx("p",{className:"text-red-500",children:((h=t.title)==null?void 0:h.message)??i.title})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-1 block",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{rows:4,...x("description"),className:`form-control mt-2 w-full rounded border px-3 py-2 ${t.description?"border-red-500":"border-gray-300"}`}),t.description&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.description.message})]}),d&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h6",{children:"Preview:"}),e.jsx("img",{src:d,alt:"Preview",className:"h-32 w-32 object-cover"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Image"}),e.jsx(j,{type:"file",onChange:S,className:"form-control mt-2",accept:"image/*"}),i&&e.jsx("p",{className:"text-red-500",children:i.image})]}),e.jsx(F,{disabled:a,type:"submit",children:a?e.jsx(P,{size:10,color:"#59b4c7"}):"submit"})]})})})]})]})}export{re as default,R as serviceScheme};
