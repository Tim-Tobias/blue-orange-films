import{j as e,c as p,b as v,r as k,S as b}from"./app-CQZ61BoK.js";import{B as j}from"./button-DVn2xeT-.js";import{I as S}from"./input-pnqkoKf5.js";import{c as N}from"./createLucideIcon-Dt3Zlyou.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],M=N("ArrowDownWideNarrow",g);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h4",key:"1krc32"}]],C=N("ArrowUpWideNarrow",T);function D({className:t,...s}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:p("w-full caption-bottom text-sm",t),...s})})}function _({className:t,...s}){return e.jsx("thead",{"data-slot":"table-header",className:p("[&_tr]:border-b",t),...s})}function z({className:t,...s}){return e.jsx("tbody",{"data-slot":"table-body",className:p("[&_tr:last-child]:border-0",t),...s})}function w({className:t,...s}){return e.jsx("tr",{"data-slot":"table-row",className:p("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...s})}function A({className:t,...s}){return e.jsx("th",{"data-slot":"table-head",className:p("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s})}function y({className:t,...s}){return e.jsx("td",{"data-slot":"table-cell",className:p("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s})}function I({className:t,...s}){return e.jsx("caption",{"data-slot":"table-caption",className:p("text-muted-foreground mt-4 text-sm",t),...s})}const B=({currentPage:t,totalPages:s,onPageChange:m,siblingCount:i=1})=>{const x="...",f=(()=>{const c=i*2+5;if(s<=c)return[...Array(s)].map((r,l)=>l+1);const h=Math.max(t-i,1),u=Math.min(t+i,s),a=h>2,n=u<s-1,o=[];if(!a&&n){for(let r=1;r<=3+2*i;r++)o.push(r);o.push(x,s)}else if(a&&!n){o.push(1,x);for(let r=s-(2*i+2);r<=s;r++)o.push(r)}else if(a&&n){o.push(1,x);for(let r=h;r<=u;r++)o.push(r);o.push(x,s)}return o})();return e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[e.jsx(j,{variant:"outline",size:"sm",onClick:()=>m(t-1),disabled:t===1,children:"«"}),f.map((c,h)=>typeof c=="number"?e.jsx(j,{variant:c===t?"default":"outline",size:"sm",onClick:()=>m(c),className:v({"font-bold":c===t}),children:c},h):e.jsx("span",{className:"text-muted-foreground px-2 text-sm",children:c},h)),e.jsx(j,{variant:"outline",size:"sm",onClick:()=>m(t+1),disabled:t===s,children:"»"})]})},E=({columns:t,data:s,caption:m,currentPage:i,totalPages:x})=>{const[d,f]=k.useState(()=>({...Object.fromEntries(new URLSearchParams(window.location.search))})),c=a=>{const n={...d,page:String(a)};f(n),b.visit(window.location.pathname,{method:"get",preserveScroll:!0,preserveState:!0,data:n})},h=a=>{const n=a.target.value,o=t.filter(l=>l.searchable).map(l=>typeof l.accessor=="string"?l.accessor:"").filter(Boolean).join(","),r={...d};delete r.page,n?(r.search=n,r.searchable=o):(delete r.search,delete r.searchable),b.visit(window.location.pathname,{method:"get",data:r,preserveScroll:!0,preserveState:!0})},u=a=>{if(typeof a.accessor!="string")return;const n=d.sort,o=d.order||"asc",r=n===a.accessor&&o==="asc"?"desc":"asc",l={...d,sort:a.accessor,order:r};f(l),b.visit(window.location.pathname,{method:"get",data:l,preserveScroll:!0,preserveState:!0})};return e.jsxs("div",{className:"w-full overflow-x-auto",children:[e.jsx("div",{className:"mb-6 flex justify-between",children:e.jsx("div",{className:"flex items-center justify-between gap-4",children:e.jsx(S,{placeholder:"Cari apa saja...",className:"w-full max-w-sm",onChange:a=>h(a)})})}),e.jsxs(D,{children:[m&&e.jsx(I,{children:m}),e.jsx(_,{children:e.jsx(w,{children:t.map((a,n)=>e.jsx(A,{className:"font-bold",children:e.jsxs("span",{className:"flex items-center gap-1",children:[a.header," ",a.sortable&&(d.order==="asc"?e.jsx(C,{onClick:()=>u(a),className:"cursor-pointer",size:"12px"}):e.jsx(M,{onClick:()=>u(a),className:"cursor-pointer",size:"12px"}))]})},n))})}),e.jsx(z,{children:s.length>0?s.map((a,n)=>e.jsx(w,{children:t.map((o,r)=>e.jsx(y,{children:typeof o.accessor=="function"?o.accessor(a):a[o.accessor]},r))},n)):e.jsx(w,{children:e.jsx(y,{colSpan:t.length,className:"h-24 text-center",children:"No results."})})})]}),e.jsx(B,{currentPage:i,totalPages:x,onPageChange:a=>c(a)})]})};export{E as D};
